# leetcode problems 0051-0100

51. [N-Queens](https://leetcode.com/problems/n-queens/)

```js
function solveNQueens(n: number): string[][] {
  let res = [];
  if (n === 1 || n >= 4) dfs(res, [], n, 0);
  return res;
}

function dfs(res, points, n, index) {
  for (let i = index; i < n; i++) {
    if (points.length !== i) return;
    for (let j = 0; j < n; j++) {
      if (isValid(points, [i, j])) {
        points.push([i, j]);
        dfs(res, points, n, i + 1);
        if (points.length === n) res.push(buildRes(points));
        points.pop();
      }
    }
  }
}

function buildRes(points) {
  let res = [];
  let n = points.length;
  for (let i = 0; i < n; i++) {
    res[i] = "";
    for (let j = 0; j < n; j++) {
      res[i] += points[i][1] === j ? "Q" : ".";
    }
  }
  return res;
}

function isValid(oldPoints, newPoint) {
  let len = oldPoints.length;
  for (let i = 0; i < len; i++) {
    if (oldPoints[i][0] === newPoint[0] || oldPoints[i][1] === newPoint[1])
      return false;
    if (
      Math.abs(
        (oldPoints[i][0] - newPoint[0]) / (oldPoints[i][1] - newPoint[1])
      ) === 1
    )
      return false;
  }
  return true;
}
```

52. [N-Queens II](https://leetcode.com/problems/n-queens-ii/)

```js
function totalNQueens(n: number): number {
  if (n === 1 || n >= 4) return dfs([], n, 0);
  return 0;
}

function dfs(points, n, index) {
  let res = 0;
  if (points.length === n) return 1;
  for (let i = index; i < n; i++) {
    if (points.length !== i) return res;
    for (let j = 0; j < n; j++) {
      if (!isValid(points, [i, j])) continue;
      points.push([i, j]);
      res += dfs(points, n, i + 1);
      points.pop();
    }
  }
  return res;
}

function isValid(oldPoints, newPoint) {
  let len = oldPoints.length;
  for (let i = 0; i < len; i++) {
    if (oldPoints[i][0] === newPoint[0] || oldPoints[i][1] === newPoint[1])
      return false;
    if (
      Math.abs(
        (oldPoints[i][0] - newPoint[0]) / (oldPoints[i][1] - newPoint[1])
      ) === 1
    )
      return false;
  }
  return true;
}
```

53. [Maximum Subarray](https://leetcode.com/problems/maximum-subarray/)

```js
function maxSubArray(nums: number[]): number {
  let len = nums.length;
  let max = Number.MIN_SAFE_INTEGER;
  let prev = 0;
  let curr = 0;

  if (!len) return 0;

  for (let i = 0; i < len; i++) {
    curr = Math.max(prev + nums[i], nums[i]);
    max = Math.max(curr, max);
    prev = curr;
  }

  return max;
}
```

54. [Spiral Matrix](https://leetcode.com/problems/spiral-matrix/)

```js
function spiralOrder(matrix: number[][]): number[] {
  let n = matrix.length;
  let m = (matrix[0] || []).length;
  let res = [];
  let x1 = 0;
  let x2 = m - 1;
  let y1 = 0;
  let y2 = n - 1;
  while (x1 <= x2 && y1 <= y2) {
    for (let x = x1; x <= x2; x++) res.push(matrix[y1][x]);
    for (let y = y1 + 1; y <= y2; y++) res.push(matrix[y][x2]);
    if (x1 < x2 && y1 < y2) {
      for (let x = x2 - 1; x > x1; x--) res.push(matrix[y2][x]);
      for (let y = y2; y > y1; y--) res.push(matrix[y][x1]);
    }
    x1++;
    x2--;
    y1++;
    y2--;
  }
  return res;
}
```

55. [Jump Game](https://leetcode.com/problems/jump-game/)

```js
function canJump(nums: number[]): boolean {
  let len = nums.length;
  let max = 0;
  for (let i = 0; i < len; i++) {
    if (i > max) return false;
    max = Math.max(max, i + nums[i]);
  }
  return true;
}
```

56. [Merge Intervals](https://leetcode.com/problems/merge-intervals/)

```js
function Interval(start, end) {
  this.start = start;
  this.end = end;
}

function merge(intervals: number[][]): number[][] {
  let result = [];
  let myIntervals = [];
  for (const interval of intervals) {
    myIntervals.push(new Interval(interval[0], interval[1]));
  }
  let len = myIntervals.length;
  let res = [];
  let a = null;
  let b = null;

  myIntervals.sort((c, d) => c.start - d.start);

  for (let i = 0; i < len; i++) {
    a = res[res.length - 1];
    b = myIntervals[i];

    if (overlap(a, b)) {
      a.start = Math.min(a.start, b.start);
      a.end = Math.max(a.end, b.end);
    } else {
      res.push(new Interval(b.start, b.end));
    }
  }

  for (const interval of res) {
    result.push([interval.start, interval.end]);
  }
  return result;
}

function overlap(a, b) {
  if (!a || !b) return false;
  if (b.start <= a.end && a.end <= b.end) return true;
  if (a.start <= b.end && b.end <= a.end) return true;
  return false;
}
```

57. [Insert Interval](https://leetcode.com/problems/insert-interval/)

```js
function Interval(start, end) {
  this.start = start;
  this.end = end;
}

function insert(intervals: number[][], newInterval: number[]): number[][] {
  let result = [];
  let myIntervals = [];
  let myNewInterval = new Interval(newInterval[0], newInterval[1]);
  for (const interval of intervals) {
    myIntervals.push(new Interval(interval[0], interval[1]));
  }
  let len = myIntervals.length;
  let i = 0;
  let res = [];
  while (i < len && myIntervals[i].end < myNewInterval.start) {
    res.push(myIntervals[i]);
    i++;
  }
  while (i < len && myIntervals[i].start <= myNewInterval.end) {
    myNewInterval.start = Math.min(myNewInterval.start, myIntervals[i].start);
    myNewInterval.end = Math.max(myNewInterval.end, myIntervals[i].end);
    i++;
  }
  res.push(myNewInterval);
  while (i < len) {
    res.push(myIntervals[i]);
    i++;
  }
  for (const interval of res) {
    result.push([interval.start, interval.end]);
  }
  return result;
}
```

58. [Length of Last Word](https://leetcode.com/problems/length-of-last-word/)

```js
function lengthOfLastWord(s: string): number {
  s = s.trim();
  let len = s.length;
  let i = len - 1;
  while (i >= 0 && s[i] !== " ") i--;
  return len - 1 - i;
}
```

59. [Spiral Matrix II](https://leetcode.com/problems/spiral-matrix-ii/)

```js
function generateMatrix(n: number): number[][] {
  let x1 = 0;
  let x2 = n - 1;
  let y1 = 0;
  let y2 = n - 1;
  let i = 0;
  let res = Array(n)
    .fill(0)
    .map((_) => Array(n));
  while (x1 <= x2 && y1 <= y2) {
    for (let x = x1; x <= x2; x++) res[y1][x] = ++i;
    for (let y = y1 + 1; y <= y2; y++) res[y][x2] = ++i;
    for (let x = x2 - 1; x > x1; x--) res[y2][x] = ++i;
    for (let y = y2; y > y1; y--) res[y][x1] = ++i;
    x1++;
    x2--;
    y1++;
    y2--;
  }
  return res;
}
```

60. [Permutation Sequence](https://leetcode.com/problems/permutation-sequence/)

```js
function getPermutation(n: number, k: number): string {
  let str = "";
  let nums = [1, 2, 3, 4, 5, 6, 7, 8, 9];
  let factorial = [1, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880]; // n!
  let tmp1 = 0;
  let tmp2 = 0;

  k--;

  for (let j = n; j >= 1; j--) {
    tmp1 = factorial[j - 1];
    tmp2 = Math.floor(k / tmp1);

    k %= tmp1;
    str += nums[tmp2];

    nums.splice(tmp2, 1);
  }

  return str;
}
```
